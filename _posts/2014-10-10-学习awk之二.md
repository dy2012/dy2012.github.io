---
layout: post

title: 学习awk

tags: [读书笔记]

---
&emsp;awk支持if-else, while, for等control-flow statements

###if-Else Statement

 `~$ cat command`

    $2 > 6 { n = n + 1; pay = pay + $2 * $3; }
    END    { if (n > 0)
                 print n, "employees, total pay is", pay,
                          "average pay is", pay/n
             else
                 print "no employees are paid more than $6/hour"
           }

 `~$ awk -f command emp.data`

     no employees are paid more than $6/hour


###While Statement

* interest1 - compute compound interest
*   input: amount rate years
*   output: compounded value at the end of each year

`~$ cat interest1`

    { i = 1
      while (i <= $3) {
          printf("\t%.2f\n", $1 * (1 + $2) ^ i)
          i = i + 1
      }
    }

`~$ awk -f interest1 `

    1000 .06 5
            1060.00
            1123.60
            1191.02
            1262.48
            1338.23

###For Statement

* interest2 - compute compound interest
*    input:   amount rate year
*    output:  compounded value at the end of each year

`~$ cat interest2`

    { for (i = ; i <= $3; i = i + 1)
          printf("\t%.2f\n", $1 * (1 + $2) ^ i)
    }

`~$ awk -f interest2`  
             
    1000 .06 5
            1060.00
            1123.60
            1191.02
            1262.48
            1338.23  